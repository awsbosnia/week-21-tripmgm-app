{"ast":null,"code":"import { NavigationEnd } from '@angular/router';\nimport * as dayjs from 'dayjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"app/core/auth/account.service\";\nimport * as i2 from \"@angular/platform-browser\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@ngx-translate/core\";\nimport * as i5 from \"../profiles/page-ribbon.component\";\nimport * as i6 from \"../footer/footer.component\";\nexport let MainComponent = /*#__PURE__*/(() => {\n  class MainComponent {\n    constructor(accountService, titleService, router, translateService, rootRenderer) {\n      this.accountService = accountService;\n      this.titleService = titleService;\n      this.router = router;\n      this.translateService = translateService;\n      this.renderer = rootRenderer.createRenderer(document.querySelector('html'), null);\n    }\n\n    ngOnInit() {\n      // try to log in automatically\n      this.accountService.identity().subscribe();\n      this.router.events.subscribe(event => {\n        if (event instanceof NavigationEnd) {\n          this.updateTitle();\n        }\n      });\n      this.translateService.onLangChange.subscribe(langChangeEvent => {\n        this.updateTitle();\n        dayjs.locale(langChangeEvent.lang);\n        this.renderer.setAttribute(document.querySelector('html'), 'lang', langChangeEvent.lang);\n      });\n    }\n\n    getPageTitle(routeSnapshot) {\n      var _a;\n\n      let title = (_a = routeSnapshot.data['pageTitle']) !== null && _a !== void 0 ? _a : '';\n\n      if (routeSnapshot.firstChild) {\n        title = this.getPageTitle(routeSnapshot.firstChild) || title;\n      }\n\n      return title;\n    }\n\n    updateTitle() {\n      let pageTitle = this.getPageTitle(this.router.routerState.snapshot.root);\n\n      if (!pageTitle) {\n        pageTitle = 'global.title';\n      }\n\n      this.translateService.get(pageTitle).subscribe(title => this.titleService.setTitle(title));\n    }\n\n  }\n\n  MainComponent.ɵfac = function MainComponent_Factory(t) {\n    return new (t || MainComponent)(i0.ɵɵdirectiveInject(i1.AccountService), i0.ɵɵdirectiveInject(i2.Title), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.TranslateService), i0.ɵɵdirectiveInject(i0.RendererFactory2));\n  };\n\n  MainComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MainComponent,\n    selectors: [[\"jhi-main\"]],\n    decls: 17,\n    vars: 0,\n    consts: [[\"name\", \"navbar\"], [1, \"container-fluid\"], [1, \"card\", \"jh-card\"]],\n    template: function MainComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"jhi-page-ribbon\");\n        i0.ɵɵtext(1, \"\\n\\n\");\n        i0.ɵɵelementStart(2, \"div\");\n        i0.ɵɵtext(3, \"\\n  \");\n        i0.ɵɵelement(4, \"router-outlet\", 0);\n        i0.ɵɵtext(5, \"\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(6, \"\\n\\n\");\n        i0.ɵɵelementStart(7, \"div\", 1);\n        i0.ɵɵtext(8, \"\\n  \");\n        i0.ɵɵelementStart(9, \"div\", 2);\n        i0.ɵɵtext(10, \"\\n    \");\n        i0.ɵɵelement(11, \"router-outlet\");\n        i0.ɵɵtext(12, \"\\n  \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(13, \"\\n\\n  \");\n        i0.ɵɵelement(14, \"jhi-footer\");\n        i0.ɵɵtext(15, \"\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(16, \"\\n\");\n      }\n    },\n    directives: [i5.PageRibbonComponent, i3.RouterOutlet, i6.FooterComponent],\n    encapsulation: 2\n  });\n  return MainComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}