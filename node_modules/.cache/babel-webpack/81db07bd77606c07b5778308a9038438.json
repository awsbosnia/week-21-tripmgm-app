{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./password.service\";\nimport * as i2 from \"app/core/auth/account.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../shared/language/translate.directive\";\nimport * as i6 from \"./password-strength-bar/password-strength-bar.component\";\nimport * as i7 from \"@ngx-translate/core\";\n\nfunction PasswordComponent_div_4_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtext(1, \"\\n        \");\n    i0.ɵɵelementStart(2, \"strong\");\n    i0.ɵɵtext(3, \"Password changed!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n      \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PasswordComponent_div_4_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19);\n    i0.ɵɵtext(1, \"\\n        \");\n    i0.ɵɵelementStart(2, \"strong\");\n    i0.ɵɵtext(3, \"An error has occurred!\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" The password could not be changed.\\n      \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PasswordComponent_div_4_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \"\\n        The password and its confirmation do not match!\\n      \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PasswordComponent_div_4_div_24_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 22);\n    i0.ɵɵtext(1, \"\\n              Your password is required.\\n            \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PasswordComponent_div_4_div_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵtemplate(2, PasswordComponent_div_4_div_24_small_2_Template, 2, 0, \"small\", 21);\n    i0.ɵɵtext(3, \"\\n          \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r5.passwordForm.get(\"currentPassword\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors.required);\n  }\n}\n\nfunction PasswordComponent_div_4_div_35_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 22);\n    i0.ɵɵtext(1, \"\\n              Your password is required.\\n            \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PasswordComponent_div_4_div_35_small_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 25);\n    i0.ɵɵtext(1, \"\\n              Your password is required to be at least 4 characters.\\n            \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PasswordComponent_div_4_div_35_small_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 26);\n    i0.ɵɵtext(1, \"\\n              Your password cannot be longer than 50 characters.\\n            \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PasswordComponent_div_4_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵtemplate(2, PasswordComponent_div_4_div_35_small_2_Template, 2, 0, \"small\", 21);\n    i0.ɵɵtext(3, \"\\n\\n            \");\n    i0.ɵɵtemplate(4, PasswordComponent_div_4_div_35_small_4_Template, 2, 0, \"small\", 23);\n    i0.ɵɵtext(5, \"\\n\\n            \");\n    i0.ɵɵtemplate(6, PasswordComponent_div_4_div_35_small_6_Template, 2, 0, \"small\", 24);\n    i0.ɵɵtext(7, \"\\n          \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    let tmp_1_0;\n    let tmp_2_0;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r6.passwordForm.get(\"newPassword\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors.required);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r6.passwordForm.get(\"newPassword\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors.minlength);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx_r6.passwordForm.get(\"newPassword\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors.maxlength);\n  }\n}\n\nfunction PasswordComponent_div_4_div_48_small_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 30);\n    i0.ɵɵtext(1, \"\\n              Your confirmation password is required.\\n            \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PasswordComponent_div_4_div_48_small_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 31);\n    i0.ɵɵtext(1, \"\\n              Your confirmation password is required to be at least 4 characters.\\n            \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PasswordComponent_div_4_div_48_small_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 32);\n    i0.ɵɵtext(1, \"\\n              Your confirmation password cannot be longer than 50 characters.\\n            \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction PasswordComponent_div_4_div_48_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"\\n            \");\n    i0.ɵɵtemplate(2, PasswordComponent_div_4_div_48_small_2_Template, 2, 0, \"small\", 27);\n    i0.ɵɵtext(3, \"\\n\\n            \");\n    i0.ɵɵtemplate(4, PasswordComponent_div_4_div_48_small_4_Template, 2, 0, \"small\", 28);\n    i0.ɵɵtext(5, \"\\n\\n            \");\n    i0.ɵɵtemplate(6, PasswordComponent_div_4_div_48_small_6_Template, 2, 0, \"small\", 29);\n    i0.ɵɵtext(7, \"\\n          \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    let tmp_0_0;\n    let tmp_1_0;\n    let tmp_2_0;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r7.passwordForm.get(\"confirmPassword\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors.required);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r7.passwordForm.get(\"confirmPassword\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors.minlength);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (tmp_2_0 = ctx_r7.passwordForm.get(\"confirmPassword\")) == null ? null : tmp_2_0.errors == null ? null : tmp_2_0.errors.maxlength);\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    username: a0\n  };\n};\n\nfunction PasswordComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵtext(1, \"\\n      \");\n    i0.ɵɵelementStart(2, \"h2\", 3);\n    i0.ɵɵtext(3, \"\\n        Password for [\");\n    i0.ɵɵelementStart(4, \"strong\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(6, \"]\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n\\n      \");\n    i0.ɵɵtemplate(8, PasswordComponent_div_4_div_8_Template, 5, 0, \"div\", 4);\n    i0.ɵɵtext(9, \"\\n\\n      \");\n    i0.ɵɵtemplate(10, PasswordComponent_div_4_div_10_Template, 5, 0, \"div\", 5);\n    i0.ɵɵtext(11, \"\\n\\n      \");\n    i0.ɵɵtemplate(12, PasswordComponent_div_4_div_12_Template, 2, 0, \"div\", 6);\n    i0.ɵɵtext(13, \"\\n\\n      \");\n    i0.ɵɵelementStart(14, \"form\", 7);\n    i0.ɵɵlistener(\"ngSubmit\", function PasswordComponent_div_4_Template_form_ngSubmit_14_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.changePassword();\n    });\n    i0.ɵɵtext(15, \"\\n        \");\n    i0.ɵɵelementStart(16, \"div\", 8);\n    i0.ɵɵtext(17, \"\\n          \");\n    i0.ɵɵelementStart(18, \"label\", 9);\n    i0.ɵɵtext(19, \"Current password\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(20, \"\\n          \");\n    i0.ɵɵelement(21, \"input\", 10);\n    i0.ɵɵpipe(22, \"translate\");\n    i0.ɵɵtext(23, \"\\n\\n          \");\n    i0.ɵɵtemplate(24, PasswordComponent_div_4_div_24_Template, 4, 1, \"div\", 11);\n    i0.ɵɵtext(25, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(26, \"\\n\\n        \");\n    i0.ɵɵelementStart(27, \"div\", 8);\n    i0.ɵɵtext(28, \"\\n          \");\n    i0.ɵɵelementStart(29, \"label\", 12);\n    i0.ɵɵtext(30, \"New password\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(31, \"\\n          \");\n    i0.ɵɵelement(32, \"input\", 13);\n    i0.ɵɵpipe(33, \"translate\");\n    i0.ɵɵtext(34, \"\\n\\n          \");\n    i0.ɵɵtemplate(35, PasswordComponent_div_4_div_35_Template, 8, 3, \"div\", 11);\n    i0.ɵɵtext(36, \"\\n\\n          \");\n    i0.ɵɵelement(37, \"jhi-password-strength-bar\", 14);\n    i0.ɵɵtext(38, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(39, \"\\n\\n        \");\n    i0.ɵɵelementStart(40, \"div\", 8);\n    i0.ɵɵtext(41, \"\\n          \");\n    i0.ɵɵelementStart(42, \"label\", 15);\n    i0.ɵɵtext(43, \"New password confirmation\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(44, \"\\n          \");\n    i0.ɵɵelement(45, \"input\", 16);\n    i0.ɵɵpipe(46, \"translate\");\n    i0.ɵɵtext(47, \"\\n\\n          \");\n    i0.ɵɵtemplate(48, PasswordComponent_div_4_div_48_Template, 8, 3, \"div\", 11);\n    i0.ɵɵtext(49, \"\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(50, \"\\n\\n        \");\n    i0.ɵɵelementStart(51, \"button\", 17);\n    i0.ɵɵtext(52, \"\\n          Save\\n        \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(53, \"\\n      \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(54, \"\\n    \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const account_r1 = ctx.ngIf;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"translateValues\", i0.ɵɵpureFunction1(20, _c0, account_r1.login));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(account_r1.login);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.success);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.error);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.doNotMatch);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.passwordForm);\n    i0.ɵɵadvance(7);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(22, 14, \"global.form.currentpassword.placeholder\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.passwordForm.get(\"currentPassword\").invalid && (ctx_r0.passwordForm.get(\"currentPassword\").dirty || ctx_r0.passwordForm.get(\"currentPassword\").touched));\n    i0.ɵɵadvance(8);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(33, 16, \"global.form.newpassword.placeholder\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.passwordForm.get(\"newPassword\").invalid && (ctx_r0.passwordForm.get(\"newPassword\").dirty || ctx_r0.passwordForm.get(\"newPassword\").touched));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"passwordToCheck\", ctx_r0.passwordForm.get(\"newPassword\").value);\n    i0.ɵɵadvance(8);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(46, 18, \"global.form.confirmpassword.placeholder\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.passwordForm.get(\"confirmPassword\").invalid && (ctx_r0.passwordForm.get(\"confirmPassword\").dirty || ctx_r0.passwordForm.get(\"confirmPassword\").touched));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", ctx_r0.passwordForm.invalid);\n  }\n}\n\nexport let PasswordComponent = /*#__PURE__*/(() => {\n  class PasswordComponent {\n    constructor(passwordService, accountService, fb) {\n      this.passwordService = passwordService;\n      this.accountService = accountService;\n      this.fb = fb;\n      this.doNotMatch = false;\n      this.error = false;\n      this.success = false;\n      this.passwordForm = this.fb.group({\n        currentPassword: ['', [Validators.required]],\n        newPassword: ['', [Validators.required, Validators.minLength(4), Validators.maxLength(50)]],\n        confirmPassword: ['', [Validators.required, Validators.minLength(4), Validators.maxLength(50)]]\n      });\n    }\n\n    ngOnInit() {\n      this.account$ = this.accountService.identity();\n    }\n\n    changePassword() {\n      this.error = false;\n      this.success = false;\n      this.doNotMatch = false;\n      const newPassword = this.passwordForm.get(['newPassword']).value;\n\n      if (newPassword !== this.passwordForm.get(['confirmPassword']).value) {\n        this.doNotMatch = true;\n      } else {\n        this.passwordService.save(newPassword, this.passwordForm.get(['currentPassword']).value).subscribe(() => this.success = true, () => this.error = true);\n      }\n    }\n\n  }\n\n  PasswordComponent.ɵfac = function PasswordComponent_Factory(t) {\n    return new (t || PasswordComponent)(i0.ɵɵdirectiveInject(i1.PasswordService), i0.ɵɵdirectiveInject(i2.AccountService), i0.ɵɵdirectiveInject(i3.FormBuilder));\n  };\n\n  PasswordComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PasswordComponent,\n    selectors: [[\"jhi-password\"]],\n    decls: 9,\n    vars: 3,\n    consts: [[1, \"row\", \"justify-content-center\"], [\"class\", \"col-md-8\", 4, \"ngIf\"], [1, \"col-md-8\"], [\"jhiTranslate\", \"password.title\", 3, \"translateValues\"], [\"class\", \"alert alert-success\", \"jhiTranslate\", \"password.messages.success\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", \"jhiTranslate\", \"password.messages.error\", 4, \"ngIf\"], [\"class\", \"alert alert-danger\", \"jhiTranslate\", \"global.messages.error.dontmatch\", 4, \"ngIf\"], [\"name\", \"form\", \"role\", \"form\", 3, \"formGroup\", \"ngSubmit\"], [1, \"form-group\"], [\"for\", \"currentPassword\", \"jhiTranslate\", \"global.form.currentpassword.label\", 1, \"form-control-label\"], [\"type\", \"password\", \"id\", \"currentPassword\", \"name\", \"currentPassword\", \"formControlName\", \"currentPassword\", \"data-cy\", \"currentPassword\", 1, \"form-control\", 3, \"placeholder\"], [4, \"ngIf\"], [\"for\", \"newPassword\", \"jhiTranslate\", \"global.form.newpassword.label\", 1, \"form-control-label\"], [\"type\", \"password\", \"id\", \"newPassword\", \"name\", \"newPassword\", \"formControlName\", \"newPassword\", \"data-cy\", \"newPassword\", 1, \"form-control\", 3, \"placeholder\"], [3, \"passwordToCheck\"], [\"for\", \"confirmPassword\", \"jhiTranslate\", \"global.form.confirmpassword.label\", 1, \"form-control-label\"], [\"type\", \"password\", \"id\", \"confirmPassword\", \"name\", \"confirmPassword\", \"formControlName\", \"confirmPassword\", \"data-cy\", \"confirmPassword\", 1, \"form-control\", 3, \"placeholder\"], [\"type\", \"submit\", \"jhiTranslate\", \"password.form.button\", \"data-cy\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"jhiTranslate\", \"password.messages.success\", 1, \"alert\", \"alert-success\"], [\"jhiTranslate\", \"password.messages.error\", 1, \"alert\", \"alert-danger\"], [\"jhiTranslate\", \"global.messages.error.dontmatch\", 1, \"alert\", \"alert-danger\"], [\"class\", \"form-text text-danger\", \"jhiTranslate\", \"global.messages.validate.newpassword.required\", 4, \"ngIf\"], [\"jhiTranslate\", \"global.messages.validate.newpassword.required\", 1, \"form-text\", \"text-danger\"], [\"class\", \"form-text text-danger\", \"jhiTranslate\", \"global.messages.validate.newpassword.minlength\", 4, \"ngIf\"], [\"class\", \"form-text text-danger\", \"jhiTranslate\", \"global.messages.validate.newpassword.maxlength\", 4, \"ngIf\"], [\"jhiTranslate\", \"global.messages.validate.newpassword.minlength\", 1, \"form-text\", \"text-danger\"], [\"jhiTranslate\", \"global.messages.validate.newpassword.maxlength\", 1, \"form-text\", \"text-danger\"], [\"class\", \"form-text text-danger\", \"jhiTranslate\", \"global.messages.validate.confirmpassword.required\", 4, \"ngIf\"], [\"class\", \"form-text text-danger\", \"jhiTranslate\", \"global.messages.validate.confirmpassword.minlength\", 4, \"ngIf\"], [\"class\", \"form-text text-danger\", \"jhiTranslate\", \"global.messages.validate.confirmpassword.maxlength\", 4, \"ngIf\"], [\"jhiTranslate\", \"global.messages.validate.confirmpassword.required\", 1, \"form-text\", \"text-danger\"], [\"jhiTranslate\", \"global.messages.validate.confirmpassword.minlength\", 1, \"form-text\", \"text-danger\"], [\"jhiTranslate\", \"global.messages.validate.confirmpassword.maxlength\", 1, \"form-text\", \"text-danger\"]],\n    template: function PasswordComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\");\n        i0.ɵɵtext(1, \"\\n  \");\n        i0.ɵɵelementStart(2, \"div\", 0);\n        i0.ɵɵtext(3, \"\\n    \");\n        i0.ɵɵtemplate(4, PasswordComponent_div_4_Template, 55, 22, \"div\", 1);\n        i0.ɵɵpipe(5, \"async\");\n        i0.ɵɵtext(6, \"\\n  \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(7, \"\\n\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtext(8, \"\\n\");\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(5, 1, ctx.account$));\n      }\n    },\n    directives: [i4.NgIf, i5.TranslateDirective, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlName, i6.PasswordStrengthBarComponent],\n    pipes: [i4.AsyncPipe, i7.TranslatePipe],\n    encapsulation: 2\n  });\n  return PasswordComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}